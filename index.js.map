{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '44022963-dc7d5638f3e5caf2e9b20745b';\n\nexport default function fetchImages(q) {\n  const searchParams = new URLSearchParams({\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    per_page: 12,\n  });\n  return fetch(`${BASE_URL}?key=${API_KEY}&${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response}`);\n    }\n    return response.json();\n  });\n}\n\n// const END_POINT = 'search/photos'; // Виправлено\n// const options = {\n//   method: 'GET',\n// };\n\n// export default function fetchImages(query = 'yellow') {\n//   const searchParams = new URLSearchParams({\n//     query,\n//     client_id: ACCESS_TOKEN,\n//     per_page: 16,\n//     orientation: 'squarish',\n//   });\n\n//   return fetch(`${BASE_URL}${END_POINT}?${searchParams}`, options).then(\n//     response => {\n//       if (!response.ok) {\n//         throw new Error(`HTTP error! status: ${response.status}`);\n//       }\n//       return response.json();\n//     }\n//   );\n// }\n","export default function renderGalleryMurkup(images) {\n  return images\n    .map(image => {\n      return `\n      <li class=\"item-card\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n          <img class=\"small-img\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n        </a>\n        <ul class=\"text-box-list\">\n          <li class=\"text-box\">\n            <p class=\"text-content\">Likes:</p>\n            <p class=\"text-values\">${image.likes}</p>\n          </li>\n          <li class=\"text-box\">\n            <p class=\"text-content\">Views:</p>\n            <p class=\"text-values\">${image.views}</p>\n          </li>\n          <li class=\"text-box\">\n            <p class=\"text-content\">Comments:</p>\n            <p class=\"text-values\">${image.comments}</p>\n          </li>\n          <li class=\"text-box\">\n            <p class=\"text-content\">Downloads:</p>\n            <p class=\"text-values\">${image.downloads}</p>\n          </li>\n        </ul>\n      </li>\n      `;\n    })\n    .join('');\n}\n\n// webformatURL — посилання на маленьке зображення для списку карток у галереї\n// largeImageURL — посилання на велике зображення для модального вікна\n// tags — рядок з описом зображення. Підійде для атрибута alt\n// likes — кількість вподобайок\n// views — кількість переглядів\n// comments — кількість коментарів\n// downloads — кількість завантажень\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst optionsLight = {\n  captionsData: 'alt',\n  captionDelay: 250,\n};\n\nconst lightbox = new SimpleLightbox('.gallery-link', optionsLight);\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\niziToast.settings({\n  resetOnHover: true,\n  timeout: 2500,\n  color: 'red',\n  position: 'topRight',\n  safesearch: true,\n});\n\nimport fetchImages from './js/pixabay-api.js';\nimport renderGalleryMurkup from './js/render-functions.js';\n\nconst searchForm = document.querySelector('.search-form');\nconst galleyList = document.querySelector('.gallery-list');\nconst loaderVisibilty = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', onRenderGalleyItems);\nfunction onRenderGalleyItems(evt) {\n  evt.preventDefault();\n  const seachQuery = evt.target.elements.searchWord.value.trim();\n\n  if (seachQuery === '') {\n    iziToast.show({\n      title: 'Hay',\n      message: 'Enter some value please.',\n    });\n    evt.target.reset();\n    return;\n  }\n  galleyList.innerHTML = '';\n  loaderVisibilty.classList.remove('is-hiden');\n\n  fetchImages(seachQuery)\n    .then(images => {\n      if (!images.hits[0]) {\n        iziToast.show({\n          title: 'Hay',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        evt.target.reset();\n      }\n      return images.hits;\n    })\n    .then(images => {\n      galleyList.innerHTML = renderGalleryMurkup(images);\n      lightbox.refresh();\n    })\n    .catch(error =>\n      iziToast.show(\n        iziToast.show({\n          title: 'Hay',\n          message: `${error}`,\n        })\n      )\n    )\n    .finally(() => {\n      loaderVisibilty.classList.add('is-hiden');\n      evt.target.reset();\n    });\n}\n"],"names":["BASE_URL","API_KEY","fetchImages","q","searchParams","response","renderGalleryMurkup","images","image","optionsLight","lightbox","SimpleLightbox","iziToast","searchForm","galleyList","loaderVisibilty","onRenderGalleyItems","evt","seachQuery","error"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAED,SAASC,EAAYC,EAAG,CACrC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,EAAAD,EACA,WAAY,QACZ,YAAa,aACb,SAAU,EACd,CAAG,EACD,OAAO,MAAM,GAAGH,CAAQ,QAAQC,CAAO,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC1E,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,CAAQ,EAAE,EAEnD,OAAOA,EAAS,MACpB,CAAG,CACH,CChBe,SAASC,EAAoBC,EAAQ,CAClD,OAAOA,EACJ,IAAIC,GACI;AAAA;AAAA,wCAE2BA,EAAM,aAAa;AAAA,wCACnBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qCAKzCA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,qCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,OAK/C,EACA,KAAK,EAAE,CACZ,CC3BA,MAAMC,EAAe,CACnB,aAAc,MACd,aAAc,GAChB,EAEMC,EAAW,IAAIC,EAAe,gBAAiBF,CAAY,EAIjEG,EAAS,SAAS,CAChB,aAAc,GACd,QAAS,KACT,MAAO,MACP,SAAU,WACV,WAAY,EACd,CAAC,EAKD,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAa,SAAS,cAAc,eAAe,EACnDC,EAAkB,SAAS,cAAc,SAAS,EAExDF,EAAW,iBAAiB,SAAUG,CAAmB,EACzD,SAASA,EAAoBC,EAAK,CAChCA,EAAI,eAAc,EAClB,MAAMC,EAAaD,EAAI,OAAO,SAAS,WAAW,MAAM,OAExD,GAAIC,IAAe,GAAI,CACrBN,EAAS,KAAK,CACZ,MAAO,MACP,QAAS,0BACf,CAAK,EACDK,EAAI,OAAO,QACX,MACD,CACDH,EAAW,UAAY,GACvBC,EAAgB,UAAU,OAAO,UAAU,EAE3Cb,EAAYgB,CAAU,EACnB,KAAKX,IACCA,EAAO,KAAK,CAAC,IAChBK,EAAS,KAAK,CACZ,MAAO,MACP,QACE,0EACZ,CAAS,EACDK,EAAI,OAAO,SAENV,EAAO,KACf,EACA,KAAKA,GAAU,CACdO,EAAW,UAAYR,EAAoBC,CAAM,EACjDG,EAAS,QAAO,CACtB,CAAK,EACA,MAAMS,GACLP,EAAS,KACPA,EAAS,KAAK,CACZ,MAAO,MACP,QAAS,GAAGO,CAAK,EAC3B,CAAS,CACF,CACF,EACA,QAAQ,IAAM,CACbJ,EAAgB,UAAU,IAAI,UAAU,EACxCE,EAAI,OAAO,OACjB,CAAK,CACL"}